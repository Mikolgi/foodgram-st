deployment:
  replicas: 3
  image:
    name: mikolgi/foodgram-backend
    tag: v3
    imagePullPolicy: IfNotPresent
  ports:
    containerPort: 8000
  volumeMounts:
    staticMountPath: /app/backend_static/
    mediaMountPath: /app/backend_media/
  env:
    values: {}
    config:
      DB_PORT: DB_PORT
      DB_HOST: DB_HOST
    secret:
      DB_NAME: postgres-name
      DB_USER: postgres-user
      DB_PASSWORD: postgres-password
    fromSecrets: []
  pvc:
    static:
      pvcName: "static-pvc"
    media:
      pvcName: "media-pvc"

importDataJob:
  restartPolicy: OnFailure
  backoffLimit: 4

jobCollectstatic:
  mountPath: /app/backend_static/
  restartPolicy: OnFailure

jobMigrate:
  restartPolicy: OnFailure
  backoffLimit: 4

service:
  type: ClusterIP
  ports:
    protocol: TCP
    port: 8000
    targetPort: 8000

persistence:
  static:
    storage: 3Gi
    storageClassName: "standard"
  media:
    storage: 5Gi
    storageClassName: "standard"
